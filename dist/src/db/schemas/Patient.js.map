{"version":3,"file":"Patient.js","sourceRoot":"","sources":["../../../../src/db/schemas/Patient.ts"],"names":[],"mappings":";;;;;;;;;;;;AAAA,8DAA2D;AAC3D,kDAA0E;AAC1E,uCAAqC;AAmBrC;IAAA;IAkDA,CAAC;IA5CA;QALC,IAAA,gBAAI,EAAE;YACN,IAAI,EAAE,MAAM;YACZ,QAAQ,EAAE,IAAI;YACd,IAAI,EAAE,CAAC,0BAAW,CAAC,OAAO,EAAE,0BAAW,CAAC,KAAK,EAAE,0BAAW,CAAC,KAAK,CAAC;SACjE,CAAE;;gDAC8B;IASjC;QAPC,IAAA,gBAAI,EAAE;YACN,IAAI,EAAE,MAAM;YACZ,QAAQ,EAAE,IAAI;YACd,MAAM,EAAE,IAAI;YACZ,KAAK,EAAE,IAAI;YACX,IAAI,EAAE,IAAI;SACV,CAAE;;0CACW;IAGd;QADC,IAAA,gBAAI,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE,SAAS,EAAE,CAAC,EAAE,SAAS,EAAE,GAAG,EAAE,IAAI,EAAE,IAAI,EAAE,CAAE;;8CACjE;IAGlB;QADC,IAAA,gBAAI,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE,SAAS,EAAE,CAAC,EAAE,SAAS,EAAE,GAAG,EAAE,IAAI,EAAE,IAAI,EAAE,CAAE;;6CAClE;IAUjB;QARC,IAAA,gBAAI,EAAE;YACN,IAAI,EAAE,MAAM;YACZ,QAAQ,EAAE,IAAI;YACd,MAAM,EAAE,IAAI;YACZ,KAAK,EAAE,IAAI;YACX,IAAI,EAAE,IAAI;YACV,OAAO,EAAE,EAAE;SACX,CAAE;;0CACW;IAGd;QADC,IAAA,gBAAI,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,IAAI,EAAE,CAAC,WAAW,EAAE,EAAE,CAAE;;wCAChE;IAGZ;QADC,IAAA,gBAAI,EAAE,EAAE,IAAI,EAAE,mBAAQ,EAAE,KAAK,EAAE,UAAU,EAAE,CAAE;kCACnC,mBAAQ;6CAAA;IAGnB;QADC,IAAA,gBAAI,EAAE,EAAE,IAAI,EAAE,OAAO,EAAE,QAAQ,EAAE,KAAK,EAAE,OAAO,EAAE,KAAK,EAAE,CAAE;;oDAClC;IAGzB;QADC,IAAA,gBAAI,EAAE,EAAE,IAAI,EAAE,OAAO,EAAE,QAAQ,EAAE,KAAK,EAAE,OAAO,EAAE,KAAK,EAAE,CAAE;;6CACzC;IAGlB;QADC,IAAA,gBAAI,EAAE,EAAE,IAAI,EAAE,OAAO,EAAE,QAAQ,EAAE,KAAK,EAAE,OAAO,EAAE,KAAK,EAAE,CAAE;;+CACvC;IAGpB;QADC,IAAA,gBAAI,EAAE,EAAE,IAAI,EAAE,OAAO,EAAE,QAAQ,EAAE,KAAK,EAAE,OAAO,EAAE,KAAK,EAAE,CAAE;;kDACpC;IAjDX,OAAO;QAjBnB,IAAA,wBAAY,EAAE;YACd,aAAa,EAAE;gBACd,EAAE,EAAE,KAAK;gBACT,QAAQ,EAAE,IAAI;gBACd,UAAU,EAAE,IAAI;gBAChB,QAAQ,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE;gBAC5B,MAAM,EAAE;oBACP,QAAQ,EAAE,IAAI;oBACd,SAAS,YAAE,IAAI,EAAE,GAAG;wBACnB,OAAO,GAAG,CAAC,QAAQ,CAAA;wBACnB,OAAO,GAAG,CAAC,GAAG,CAAA;oBACf,CAAC;iBACD;aACD;YACD,OAAO,EAAE,EAAE,UAAU,EAAE,oBAAQ,CAAC,KAAK,EAAE;SACvC,CAAE;QACF,IAAA,iBAAK,EAAE,EAAE,KAAK,EAAE,MAAM,EAAE,QAAQ,EAAE,UAAU,EAAE,CAAE;OACpC,OAAO,CAkDnB;IAAD,cAAC;CAAA,AAlDD,IAkDC;AAlDY,0BAAO","sourcesContent":["import { DESIGNATION } from '../../interfaces/designations'\r\nimport { modelOptions, index, prop, Severity } from '@typegoose/typegoose'\r\nimport { Location } from \"./Location\"\r\n\r\n@modelOptions( {\r\n\tschemaOptions: {\r\n\t\tid: false,\r\n\t\tvirtuals: true,\r\n\t\ttimestamps: true,\r\n\t\ttoObject: { virtuals: true },\r\n\t\ttoJSON: {\r\n\t\t\tvirtuals: true,\r\n\t\t\ttransform( _doc, ret ): void {\r\n\t\t\t\tdelete ret.password\r\n\t\t\t\tdelete ret.__v\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\toptions: { allowMixed: Severity.ALLOW },\r\n} )\r\n@index( { title: 'text', location: '2dsphere' } )\r\nexport class Patient {\r\n\t@prop( {\r\n\t\ttype: String,\r\n\t\trequired: true,\r\n\t\tenum: [DESIGNATION.PATIENT, DESIGNATION.NURSE, DESIGNATION.ADMIN],\r\n\t} )\r\n\tdesignation!: DESIGNATION.PATIENT\r\n\r\n\t@prop( {\r\n\t\ttype: String,\r\n\t\trequired: true,\r\n\t\tunique: true,\r\n\t\tindex: true,\r\n\t\ttrim: true\r\n\t} )\r\n\tphone!: string\r\n\r\n\t@prop( { type: String, required: true, minlength: 2, maxlength: 250, trim: true } )\r\n\tfirstName!: string\r\n\r\n\t@prop( { type: String, required: true, minlength: 2, maxlength: 250, trim: true } )\r\n\tlastName!: string\r\n\r\n\t@prop( {\r\n\t\ttype: String,\r\n\t\trequired: true,\r\n\t\tunique: true,\r\n\t\tindex: true,\r\n\t\ttrim: true,\r\n\t\tdefault: \"\"\r\n\t} )\r\n\temail!: string\r\n\r\n\t@prop( { type: String, required: true, default: new Date().toISOString() } )\r\n\tdob!: string\r\n\r\n\t@prop( { type: Location, index: '2dsphere' } )\r\n\tlocation!: Location\r\n\r\n\t@prop( { type: Boolean, required: false, default: false } )\r\n\tisPhoneVerified?: boolean\r\n\r\n\t@prop( { type: Boolean, required: false, default: false } )\r\n\tisBanned?: boolean\r\n\r\n\t@prop( { type: Boolean, required: false, default: false } )\r\n\tisVerified?: boolean\r\n\r\n\t@prop( { type: Boolean, required: false, default: false } )\r\n\tisDeactivated?: boolean\r\n}\r\n"]}