{"version":3,"file":"is-admin.js","sourceRoot":"","sources":["../../../src/middlewares/is-admin.ts"],"names":[],"mappings":";;AAAA,2DAAwD;AACxD,kCAAoC;AAEpC,uDAA+C;AAE/C,SAAwB,UAAU,CAAE,OAAgB,EAAE,SAAmB,EAAE,IAAkB;;IAC5F,IAAK,CAAA,MAAA,OAAO,CAAC,OAAO,0CAAE,WAAW,MAAK,0BAAW,CAAC,KAAK,EAAG,CAAC;QAC1D,OAAO,IAAI,CAAE,IAAI,iBAAS,CAAE,8BAA8B,EAAE,+BAAW,CAAC,SAAS,CAAE,CAAE,CAAA;IACtF,CAAC;IAED,IAAI,EAAE,CAAA;AACP,CAAC;AAND,6BAMC","sourcesContent":["import { DESIGNATION } from '../interfaces/designations'\r\nimport { Exception } from '../utils'\r\nimport type { NextFunction, Request, Response } from 'express'\r\nimport { StatusCodes } from 'http-status-codes'\r\n\r\nexport default function authorized( request: Request, _response: Response, next: NextFunction ) {\r\n\tif ( request.account?.designation !== DESIGNATION.ADMIN ) {\r\n\t\treturn next( new Exception( 'Only admins can access this!', StatusCodes.FORBIDDEN ) )\r\n\t}\r\n\r\n\tnext()\r\n}\r\n"]}