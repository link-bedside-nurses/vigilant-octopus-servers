{"version":3,"file":"controller.js","sourceRoot":"","sources":["../../../../../src/modules/payments/bank/controller.ts"],"names":[],"mappings":"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","sourcesContent":["import { HTTPRequest } from '../../../adapters/express-callback'\r\nimport { StatusCodes } from 'http-status-codes'\r\nimport { db } from '../../../db'\r\n\r\nexport function getAllPatients() {\r\n\t// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n\treturn async function ( _: HTTPRequest<object> ) {\r\n\t\tconst patients = await db.patients.find( { designation: 'PATIENT' } )\r\n\t\treturn {\r\n\t\t\tstatusCode: StatusCodes.OK,\r\n\t\t\tbody: {\r\n\t\t\t\tdata: patients,\r\n\t\t\t\tmessage: 'Patients Retrieved',\r\n\t\t\t},\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function getPatient() {\r\n\treturn async function (\r\n\t\trequest: HTTPRequest<{\r\n\t\t\tid: string\r\n\t\t}>,\r\n\t) {\r\n\t\tconst patient = await db.patients.findById( request.params.id )\r\n\r\n\t\tif ( !patient ) {\r\n\t\t\treturn {\r\n\t\t\t\tstatusCode: StatusCodes.NOT_FOUND,\r\n\t\t\t\tbody: {\r\n\t\t\t\t\tmessage: 'No Patient Found',\r\n\t\t\t\t\tdata: null,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\tstatusCode: StatusCodes.OK,\r\n\t\t\tbody: {\r\n\t\t\t\tdata: patient,\r\n\t\t\t\tmessage: 'Patient Retrieved',\r\n\t\t\t},\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function deletePatient() {\r\n\treturn async function (\r\n\t\trequest: HTTPRequest<{\r\n\t\t\tid: string\r\n\t\t}>,\r\n\t) {\r\n\t\tconst patient = await db.patients.findByIdAndDelete( request.params.id )\r\n\r\n\t\tif ( !patient ) {\r\n\t\t\treturn {\r\n\t\t\t\tstatusCode: StatusCodes.NOT_FOUND,\r\n\t\t\t\tbody: {\r\n\t\t\t\t\tmessage: 'No Patient Found',\r\n\t\t\t\t\tdata: null,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\tstatusCode: StatusCodes.OK,\r\n\t\t\tbody: {\r\n\t\t\t\tdata: patient,\r\n\t\t\t\tmessage: 'Patient deleted',\r\n\t\t\t},\r\n\t\t}\r\n\t}\r\n}\r\n\r\ninterface UpdateBody {\r\n\tphone: string\r\n\tfirstName: string\r\n\tlastName: string\r\n}\r\n\r\nexport function updatePatient() {\r\n\treturn async function (\r\n\t\trequest: HTTPRequest<\r\n\t\t\t{\r\n\t\t\t\tid: string\r\n\t\t\t},\r\n\t\t\tUpdateBody\r\n\t\t>,\r\n\t) {\r\n\t\tconst patient = await db.patients.findByIdAndUpdate( request.params.id, { ...request.body }, { new: true } )\r\n\r\n\t\tif ( !patient ) {\r\n\t\t\treturn {\r\n\t\t\t\tstatusCode: StatusCodes.NOT_FOUND,\r\n\t\t\t\tbody: {\r\n\t\t\t\t\tmessage: 'No Patient Found',\r\n\t\t\t\t\tdata: null,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\tstatusCode: StatusCodes.OK,\r\n\t\t\tbody: {\r\n\t\t\t\tdata: patient,\r\n\t\t\t\tmessage: 'Patient updated',\r\n\t\t\t},\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function deactivatePatient() {\r\n\treturn async function (\r\n\t\trequest: HTTPRequest<\r\n\t\t\t{\r\n\t\t\t\tid: string\r\n\t\t\t},\r\n\t\t\tUpdateBody\r\n\t\t>,\r\n\t) {\r\n\t\tconst patient = await db.patients.findByIdAndUpdate(\r\n\t\t\trequest.params.id,\r\n\t\t\t{ $set: { isDeactivated: true } },\r\n\t\t\t{ new: true },\r\n\t\t)\r\n\r\n\t\tif ( !patient ) {\r\n\t\t\treturn {\r\n\t\t\t\tstatusCode: StatusCodes.NOT_FOUND,\r\n\t\t\t\tbody: {\r\n\t\t\t\t\tmessage: 'No Patient Found',\r\n\t\t\t\t\tdata: null,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\tstatusCode: StatusCodes.OK,\r\n\t\t\tbody: {\r\n\t\t\t\tdata: patient,\r\n\t\t\t\tmessage: 'Patient updated',\r\n\t\t\t},\r\n\t\t}\r\n\t}\r\n}\r\n"]}